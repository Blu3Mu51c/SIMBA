/* Neumorphic Alert â€” soft white with a touch of "electronics blue" */

$bg: #f3f6fb;            // app background (subtle grey-blue)
$surface: #ffffff;       // alert surface
$shadow-dark: #d9deea;   // soft outer shadow
$shadow-light: #ffffff;  // light lift

$text: #2f3552;          // main text
$muted: #6f7597;         // secondary text

$blue: #6aa7ff;          // "electronics blue" accent (info/default)
$success: #22c55e;
$warning: #f59e0b;
$error:   #ef4444;

/* Animations */
@keyframes alert-in {
  from { opacity: 0; transform: translateY(-6px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes alert-out {
  to   { opacity: 0; transform: translateY(-6px); }
}
@keyframes progress-deplete {
  from { width: 100%; }
  to   { width: 0%; }
}

/* Export these class names globally so your current JSX works */
:global(.alert) {
  --accent: #{$blue};

  position: relative;
  margin: 10px auto;
  padding: 14px 16px;
  max-width: 680px;

  border-radius: 16px;
  background: $surface;
  color: $text;

  box-shadow:
    12px 12px 32px $shadow-dark,
    -12px -12px 32px $shadow-light;

  /* soft inset edge for neumorphism */
  outline: 1px solid rgba(0,0,0,.03);

  animation: alert-in .22s ease-out;

  /* subtle left glow rail using the type accent */
  &::before {
    content: "";
    position: absolute;
    left: 10px; top: 10px; bottom: 10px;
    width: 4px;
    border-radius: 999px;
    background: linear-gradient(180deg, var(--accent), rgba(0,0,0,0));
    opacity: .85;
  }
}

:global(.alert--closing) {
  animation: alert-out .22s ease-in forwards;
}

/* Variants (set an accent color) */
:global(.alert--info)    { --accent: #{$blue}; }
:global(.alert--success) { --accent: #{$success}; }
:global(.alert--warning) { --accent: #{$warning}; }
:global(.alert--error)   { --accent: #{$error}; }

/* Layout */
:global(.alert__content) {
  display: grid;
  grid-template-columns: 28px 1fr auto;
  align-items: center;
  gap: 12px;
}

:global(.alert__icon-wrapper) {
  width: 28px; height: 28px;
  border-radius: 10px;
  display: grid;
  place-items: center;

  /* glossy chip using accent */
  background: linear-gradient(180deg, rgba(106,167,255,.18), rgba(106,167,255,.06));
  box-shadow:
    inset 2px 2px 6px rgba(255,255,255,.75),
    inset -2px -2px 6px rgba(0,0,0,.06);

  /* tint per variant */
  .alert--success & { background: linear-gradient(180deg, rgba($success,.18), rgba($success,.06)); }
  .alert--warning & { background: linear-gradient(180deg, rgba($warning,.18), rgba($warning,.06)); }
  .alert--error   & { background: linear-gradient(180deg, rgba($error,.18),   rgba($error,.06)); }
}

:global(.alert__icon) {
  width: 18px; height: 18px;
  color: var(--accent);
}

:global(.alert__message) {
  color: $text;
  line-height: 1.3;
  font-weight: 600;
  word-break: break-word;
}

/* Close button: tiny ghost control */
:global(.alert__close) {
  appearance: none;
  background: transparent;
  border: 0;
  margin: -6px -6px -6px 6px;
  width: 30px; height: 30px;
  border-radius: 8px;
  display: grid;
  place-items: center;
  cursor: pointer;

  color: $muted;
  transition: background .18s ease, color .18s ease, transform .06s ease;

  &:hover {
    background: rgba(0,0,0,.05);
    color: $text;
  }
  &:active { transform: translateY(1px); }

  svg { width: 16px; height: 16px; }
}

/* Progress bar (uses the same duration you pass as inline style) */
:global(.alert__progress) {
  position: relative;
  height: 3px;
  margin-top: 10px;
  overflow: hidden;
  border-radius: 999px;
  background: rgba(0,0,0,.06);
}

:global(.alert__progress-bar) {
  height: 100%;
  background: linear-gradient(90deg, rgba(255,255,255,.75), var(--accent));
  animation-name: progress-deplete;
  animation-timing-function: linear;
  animation-fill-mode: forwards;

  /* little glow */
  box-shadow: 0 0 10px var(--accent);
}

/* Compact on very small screens */
@media (max-width: 480px) {
  :global(.alert) { padding: 12px 12px; border-radius: 14px; }
  :global(.alert__content) { grid-template-columns: 24px 1fr auto; gap: 10px; }
  :global(.alert__icon-wrapper) { width: 24px; height: 24px; border-radius: 8px; }
  :global(.alert__icon) { width: 16px; height: 16px; }
}
